## 强大的文本处理能力
### line-height 的另外一个朋友 font-size
#### font-size 和 vertical-align 的隐秘故事
> line-height 的部分类别属性值是相对于 font-size 计算的，vertical-align 百分比值属性值又是相对于 line-height 计算的，于是，看上去八辈子都搭不上边的 verticalalign 和 font-size 属性背后其实也有有着关联的。
> 例如，下面的 CSS 代码组合：此时，p > img 选择器对应元素的 vertical-align 计算值应该是:16px * 1.5 * -25% = -6px

    p { 
        font-size: 16px; 
        line-height: 1.5; 
    } 
    p > img { 
        ertical-align: -25%; 
    }

> 但是两者又有所不同，很显然，-25%是一个相对计算属性值，如果此时元素的 font-size发生变化，则图片会自动进行垂直位置调整。我们可以看一个无论 font-size 如何变化、后面图标都垂直居中对齐的例子，(手动输入)(http://demo.cssworld.cn/8/1-1.php) 或者扫下面的二维码。可以看到，无论文字字号是大还是小，后面的图标都非常良好地垂直居中对齐，[如图](https://ws1.sinaimg.cn/large/0060ZzrAgy1g8eazi2gosj309y048wel.jpg)

#### 理解 font-size 与 ex、em 和 rem 的关系
> ex 是字符 x 高度，显然和 font-size 关系密切，font-size 值越大，自然 ex 对应的大小也就大，对此本书前面已经有介绍，这里不赘述。
> 之所以叫作 em 完全取决于 M 的字形，毕竟英文26 个字母方方正正的不算多。如果按照这种说法，那方方正正的汉字岂不是每一个字都正好一个 em？没错，确实是这样，尤其作为印刷体的宋体效果最为明显，这种表现在 CSS 中也有非常明显的体现。
> 也就是说，em 就是'中'等汉字的高度！于是，我们对 em 的理解就更加简单了，直接看一个很容易理解错误的题目，在 Chrome 浏览器下，\<h1>元素有如下的默认 CSS：

    h1 { 
        font-size: 2em; 
        -webkit-margin-before: 0.67em;
        -webkit-margin-after: 0.67em;
    }

> 我们可以这样想，假设\<h1>里面有汉字，此时汉字的高度是多少？这个高度就是此时 1em大小。\<h1>元素此时 font-size 是 2em，算一下就是 32px，因此，此时里面汉字的高度应该是 32px，也就是说，此时\<h1>元素的 1em 应该是 32px，于是 margin-before 的像素计算值为 32px×0.67 = 21.44px，和浏览器自己的计算值一样
> 总结如下：在 CSS 中，1em 的计算值等同于当前元素所在的 font-size 计算值，可以将其想象成当前元素中（如果有）汉字的高度。
> 所有相对单位的好处都是一样的，样式表现更具有弹性。例如，理论上，有一个布局，希望小屏时整体缩小，大屏时再弹性扩大，此时就可以让所有元素宽高尺寸等都使用 em，于是，最后只要改变布局祖先元素的 font-size 大小就可以实现整体的弹性变化。
> 这种策略很棒，也确实可行，但是有一个比较麻烦的事情，它和上面<h1>元素计算一样的麻烦，em 是根据当前 font-size 大小计算的，一旦布局中出现标题这种跟基础 font-size大小不一样的场景的时候，标题里面所有元素 em 都要重新计算一遍，甚为麻烦，最终的成品维护成本就比较高了。
> 回到 em 单位。em 实际上更适用于图文内容展示的场景，对此进行弹性布局。例如，\<h1>～\<h6>以及\<p>等与文本内容展示的元素的 margin 都是用 em 作为单位，这样，当用户把浏览器默认字号从“中”设置成“大”或改成“小”的时候，上下间距也能根据字号大小自动调整，使阅读更舒服。
> 再举个适用于 em 的场景，如果我们使用 SVG 矢量图标，建议设置 SVG 宽高如下：这样，无论图标是个大号文字混在一起还是和小号文字混在一起，都能和当前文字大小保持一致，既省时又省力。

    svg { 
        width: 1em; height: 1em; 
    }